<div x-data="{ categoryOpen: false, selectedCategory: '' }" class="my-1 mx-1 px-4 sm:mx-auto w-full">
  <label id="listbox-label" class="block text-xs text-left text-gray-600">Job Category</label>
  <div class="relative mt-2">
    <button
      type="button"
      x-on:click="categoryOpen = !categoryOpen"
      class="relative w-full cursor-default rounded-md py-1.5 sm:px-10 text-left text-gray-900 focus:outline-none sm:text-sm"
      aria-haspopup="listbox"
      aria-expanded="true"
      aria-labelledby="listbox-label"
    >
      <span class="block truncate"
            x-bind:class="{ 'text-black': selectedCategory !== '', 'text-gray-500': selectedCategory === '' }"
            x-text="selectedCategory !== '' ? selectedCategory : 'Select Category'">
      </span>


        
      <span 
        class="pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2">
        <!-- Expand Icon -->
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 transform transition-transform" :class="{'rotate-180': categoryOpen}">
          <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
        </svg>
      </span>
    </button>

    <ul
      x-show="categoryOpen"
      x-cloak
      x-on:click.away="categoryOpen = false"
      class="absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"
      tabindex="-1"
      role="listbox"
      aria-labelledby="listbox-label"
      aria-activedescendant="listbox-option-3"
    >
      <li
        x-on:click="selectedCategory = 'Design & Creative'; categoryOpen = false"
        class="text-gray-900 relative cursor-pointer select-none py-2 pl-3 pr-9 hover:text-green-600"
        x-bind:class="{ 'bg-green-600 text-white hover:bg-gray-100': selectedCategory === 'Design & Creative', 'text-gray-900': selectedCategory !== 'Design & Creative' }"
        role="option"
      >
        Design & Creative
        
      </li>
      <li
        x-on:click="selectedCategory = 'Web Design'; categoryOpen = false"
        class="text-gray-900 relative cursor-pointer select-none py-2 pl-3 pr-9 hover:text-green-600"
        x-bind:class="{ 'bg-green-600 text-white hover:bg-gray-100': selectedCategory === 'Web Design', 'text-gray-900': selectedCategory !== 'Web Design' }"
        role="option"
      >
        Web Design
        
      </li>

      <li
        x-on:click="selectedCategory = 'Writing'; categoryOpen = false"
        class="text-gray-900 relative cursor-pointer select-none py-2 pl-3 pr-9 hover:text-green-600"
        x-bind:class="{ 'bg-green-600 text-white hover:bg-gray-100': selectedCategory === 'Writing', 'text-gray-900': selectedCategory !== 'Writing' }"
        role="option"
      >
        Writing
        
      </li>

      <li
        x-on:click="selectedCategory = 'Sales & Marketing'; categoryOpen = false"
        class="text-gray-900 relative cursor-pointer select-none py-2 pl-3 pr-9 hover:text-green-600"
        x-bind:class="{ 'bg-green-600 text-white hover:bg-gray-100': selectedCategory === 'Sales & Marketing', 'text-gray-900': selectedCategory !== 'Sales & Marketing' }"
        role="option"
      >
        Sales & Marketing
        
      </li>

      <!-- More items... -->
    </ul>
  </div>

</div>